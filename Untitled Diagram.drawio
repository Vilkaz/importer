<mxfile host="app.diagrams.net" modified="2020-08-10T14:31:54.429Z" agent="5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36" etag="sYda4vQzX7rCLbdqzUT9" version="13.3.0" type="github">
  <diagram id="6az-f2hGm9_44fIk0SS6" name="Page-1">
    <mxGraphModel dx="2012" dy="721" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="f88zX8U65ByKJ041jOnL-2" value="file1.TYPE_1" style="shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingTop=-6;" vertex="1" parent="1">
          <mxGeometry x="-190" y="120" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-3" value="file2.TYPE_2" style="shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingTop=-6;" vertex="1" parent="1">
          <mxGeometry x="-190" y="230" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-4" value="file3.Type_3" style="shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingTop=-6;" vertex="1" parent="1">
          <mxGeometry x="-190" y="330" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-5" value="file4.Type_N" style="shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingTop=-6;" vertex="1" parent="1">
          <mxGeometry x="-190" y="500" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-6" value="" style="endArrow=open;endFill=1;endSize=12;html=1;exitX=0;exitY=0;exitDx=100;exitDy=42;exitPerimeter=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-2">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="100" y="570" as="sourcePoint" />
            <mxPoint x="50" y="287.33333333333326" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-7" value="" style="endArrow=open;endFill=1;endSize=12;html=1;exitX=0;exitY=0;exitDx=100;exitDy=42;exitPerimeter=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-3">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-90" y="162" as="sourcePoint" />
            <mxPoint x="50" y="320.83333333333326" as="targetPoint" />
            <Array as="points">
              <mxPoint y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-8" value="" style="endArrow=open;endFill=1;endSize=12;html=1;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-4">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-90" y="162" as="sourcePoint" />
            <mxPoint x="50" y="354.03846153846143" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-9" value="" style="endArrow=open;endFill=1;endSize=12;html=1;exitX=1.01;exitY=0.471;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-5">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-90" y="362.1153846153845" as="sourcePoint" />
            <mxPoint x="50" y="414.6153846153845" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-10" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-11" target="f88zX8U65ByKJ041jOnL-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-11" value="1 Step = recognise format.&lt;br&gt;does not need to run all the time, perfect for function as a service&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="180" y="110" width="244" height="80" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-12" value="&lt;br&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="f88zX8U65ByKJ041jOnL-11">
          <mxGeometry x="138" y="53" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-13" value="Read that file&lt;br&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.021;entryY=0.829;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-14" target="f88zX8U65ByKJ041jOnL-24">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="335" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-14" value="" style="outlineConnect=0;fontColor=#232F3E;gradientColor=#60A337;gradientDirection=north;fillColor=#277116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" vertex="1" parent="1">
          <mxGeometry x="60" y="250" width="170" height="170" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-15" value="" style="endArrow=open;endFill=1;endSize=12;html=1;entryX=0.398;entryY=1.075;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-14" target="f88zX8U65ByKJ041jOnL-11">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-90" y="362.1153846153845" as="sourcePoint" />
            <mxPoint x="50" y="354.03846153846143" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-19" target="f88zX8U65ByKJ041jOnL-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="40" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-17" value="NO&lt;br&gt;&lt;br&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="f88zX8U65ByKJ041jOnL-16">
          <mxGeometry x="-0.0522" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-18" value="YES?&amp;nbsp;&lt;br&gt;Trigger an importer service with filename&lt;br&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-19" target="f88zX8U65ByKJ041jOnL-24">
          <mxGeometry y="30" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-19" value="Format recognised ?&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="97.5" width="140" height="102.5" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-20" value="Unknown format Handler" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="270" y="10" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-24">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="290" as="targetPoint" />
            <Array as="points">
              <mxPoint x="500" y="290" />
              <mxPoint x="500" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-22" value="Give me that file&lt;br&gt;&lt;br&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="f88zX8U65ByKJ041jOnL-21">
          <mxGeometry x="0.1012" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-23" value="For Every line in file&lt;br&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-24">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="570" y="430" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-24" value="Importer.TYPE_N" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="510" y="260" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-25" value="Importers : a little microservice, that only can import one specific format. Have longer working time, better be hosted in kubernetes, dont use lambdas for that !&amp;nbsp; They have to be able to run paralelle and be independent from eachotherr.&lt;br&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="690" y="163" width="250" height="77" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-26" value="" style="endArrow=none;dashed=1;html=1;exitX=1.005;exitY=0.064;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-24" target="f88zX8U65ByKJ041jOnL-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="760" y="400" as="sourcePoint" />
            <mxPoint x="810" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-27" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-30" target="f88zX8U65ByKJ041jOnL-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-30" target="f88zX8U65ByKJ041jOnL-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-29" value="After entire file was readed" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-30" target="f88zX8U65ByKJ041jOnL-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-30" value="Valid Data ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="530" y="430" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="f88zX8U65ByKJ041jOnL-31">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="840" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-31" value="Kafka topic&lt;br&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.delay;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="670" y="440" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-32" value="Invalid Data handler" style="html=1;dashed=0;whitespace=wrap;shape=mxgraph.dfd.start" vertex="1" parent="1">
          <mxGeometry x="344" y="447.5" width="140" height="45" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-33" value="Save file in &quot;imported files/TYPE_N&quot; .&lt;br&gt;If we ever need to reimport all those files again, we can simply put them into the entry bucket, and entire prozess will trigger again. But this time paralell, so we can import all files in the time, that the biggest file need for importing. (hours insted of weeks" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="467" y="570" width="206" height="160" as="geometry" />
        </mxCell>
        <mxCell id="f88zX8U65ByKJ041jOnL-36" value="Import process" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="840" y="440" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
